# Methodology

* nature of data, sources of data, problems with data 

**The Data Sets**

The data that we have used for this project come from a wide range of reputable sources. Our core data set is [TFR data from the World Bank] (https://data.worldbank.org/indicator/SP.DYN.TFRT.IN). This data set provides the TFR for each country from the years 1960 to 2018. The zipfile from this source also included an additional data file with a table that maps each country based on its country code to the respective geographical region of the country *(ex: North America, South Asia, etc)*. Furthermore, the additional data file also indicated the income-level of each country described ordinally in 4 categories *(low income, lower middle income, upper middle income, high income)*.

Besides this core data set we used three complementary data sets from a range of sources which apply to the various variables that we would like to explore in relation to TFR. These data sets are outlined below: 
* 1. [Female education data] (https://data.un.org/Data.aspx?q=female+education&d=UNESCO&f=series%3aFEP_23) was found from the UN dataset. This dataset provides the percentage of females in secondary education by country from 1975 to 2015. We will be using this variable as an indicator of the level of female education within a given country.
* 2. The second data set pertains to the [female labor force participation rate] (https://ourworldindata.org/female-labor-supply) and found from Our World in Data. This data set provides the percentage of females over 15 years of age participating in the labor force in each country.
* 3. Lastly, [Human Development Index (HDI) data] (http://hdr.undp.org/en/data#) from  the UN Development Program. The HDI is a composite index that measures the degree of development of a country and in this data set is given for each country from 1990 to 2018

All of our data was downloaded as comma-separated values (CSV) files to aid data manipulation in Python. 

**Cleaning the Data**

Before beginning our analysis it was necessary to clean the data. This involved dropping  empty columns that lacked data and removing fields unnecessary for our analysis. For example, our analysis is based on country specific analysis of TFR, but the TFR dataset had regional data as well (ex: providing the average TFR for South Asia). Hence we had to omit the rows that referred to regions and not countries. 

**Merging the Data**

After cleaning each individual data set we had to merge all our data into one large merged datafile in order to carry out further analysis and create visualisations. This proved slightly difficult because our data had different shapes, with some data formatted as long data and others as wide data. Using the pandas melt function, all data was converted into long data because it is easier to work with this data to carry out analysis and create visualisations. 

The data was merged on two indexes, Country and Year. The merge was also difficult to carry out as the country names did not correspond exactly across all data sets. For instance, in the TFR data set Egypt was labelled as "Egypt Arab Rep." while in other data sets it was simply "Egypt". As such, the country names that did not correspond had to be changed using the rename function so that our merge was effective. The full merge hence gave us a dataset with all relevant variables (TFR, HDI, female education, female labour force participation and income) according to the country and year. 

As our analysis is based on the African continent, the full merge data had to be further cleaned to only include countries on the African continent. This was possible using the additional data from the TFR dataset which possessed a a table of each country and its corresponding region. However, one problem encountered was that the regional divisions provided by the World Bank did not match the region we wanted to analyse. For instace, countries on the African continent were split between 2 regional categories: *Sub-Saharan Africa* and *Middle East & North Africa*. The latter of the regional categories also included additional countries not on the African continent, hence irrelevant to our analysis. To solve this issue, we used Python to select for rows that had "Sub Saharan Africa" under the Region column. On the World Bank website, we found the countries included in each region and were able to select only those under the "Middle East & North Africa" region label to add to this dataset. Ë‡his hence created a full merge data with only African countries. 


# Methodology Part 2 (due WEEK 10)
Our data analysis was completely carried out using Python and associated visualization libraries. The main visualisation libraries **used were plotly express, et, etc...**.

* methodsused, what analytical techniques and visualisations, software used, problems encountered, solutions found 

- for each analysis: explain reason, what did it achieve

1. Summary statistics
2. Analysis 1: Multivariable Regression
3. Analysis 2: ??? t-test?
4. Visualisation 1: scatter plot showing TFR by region, 2018  
5. Visualisation 2: line plot comparing Africa vs World over time
6. Visualisation 3: histograms 
7. Visualisation 4: HDI specific country comparisons 
8. Visualisation 5: Interacting chloropleth map 



